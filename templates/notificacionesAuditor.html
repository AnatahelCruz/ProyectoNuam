
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notificaciones de Auditor</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/auditor_dashboard.css' %}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container-fluid px-4">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="{% static 'img/nuam_HD.png' %}" alt="Nuam Logo" class="logo me-2">
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="{% url 'auditor_dashboard' %}">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'registros' %}">Acceder registros</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'consultas' %}">Consultas</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Notificaciones</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <button class="btn btn-light me-2" id="theme-toggle"><i class="bi bi-toggles"></i></button><!--aqui agregué un boton que se supone pondría la pagina en modo oscuro pero no me corrió, aún asi no hice mucho, sólo quería poner el fondo oscuro para mejor visualizacion-->
                    <button class="btn btn-light me-2"><i class="bi bi-gear"></i></button>
                    <div class="input-group me-3" style="width:200px;">
                        <span class="input-group-text bg-white border-end-0"><i class="bi bi-search"></i></span>
                        <input type="text" class="form-control border-start-0" placeholder="Buscar">
                    </div>
                    <div class="profile-placeholder rounded-circle d-flex align-items-center justify-content-center">
                        <i class="bi bi-person"></i>
                    </div>
                </div>
            </div>
        </div>
    </nav>

                {% block content %}
            <div class="container mt-4">

                <div class="card border-nuam shadow-sm">
                    <div class="card-header fw-bold">
                        Notificaciones del sistema
                    </div>

                    <div class="card-body">

                        {% if notificaciones %}
                            {% for n in notificaciones %}
                                <div class="alert alert-{{ n.tipo }} alert-dismissible fade show mb-3" role="alert">
                                    <div class="d-flex align-items-start">
                                        <i class="bi 
                                            {% if n.tipo == 'warning' %}bi-exclamation-triangle-fill
                                            {% elif n.tipo == 'error' %}bi-x-octagon-fill
                                            {% elif n.tipo == 'success' %}bi-check-circle-fill
                                            {% else %}bi-info-circle-fill{% endif %}
                                        me-2"></i>

                                        <div>
                                            {% if n.titulo %}
                                                <strong>{{ n.titulo }}</strong><br>
                                            {% endif %}
                                            {{ n.mensaje }}
                                            <br>
                                            <small class="text-muted">{{ n.fecha|date:"d/m/Y H:i" }}</small>
                                        </div>
                                    </div>

                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                            {% endfor %}
                        {% else %}
                            <p class="text-muted">No hay notificaciones registradas.</p>
                        {% endif %}

                    </div>
                </div>
            </div>
            {% endblock %}
</body>
</html>